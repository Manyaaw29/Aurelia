{{! views/support.hbs - RENDER with { layout: 'main', title: 'Support Hub', cssFile: 'support.css' } }}

<main class="support-page container">
    <div class="support-hero">
        <h1 class="main-title">Aurelia Support Hub</h1>
        <p class="tagline">How can we help you today? Find answers or contact our dedicated team.</p>
        <div class="search-box">
            <input type="text" id="supportSearch" placeholder="Search for shipping, returns, or sizing questions...">
            <button><i class="fas fa-search"></i></button>
        </div>
    </div>

    <section class="support-categories">
        <h2>Quick Links</h2>
        <div class="support-grid">
            <a href="#shipping" class="support-card">
                <i class="fas fa-shipping-fast card-icon"></i>
                <h3>Shipping & Delivery</h3>
                <p>Track your order, view shipping rates, and estimated times.</p>
            </a>
            <a href="#returns" class="support-card">
                <i class="fas fa-undo-alt card-icon"></i>
                <h3>Returns & Exchanges</h3>
                <p>Read our policy and start a return or exchange process.</p>
            </a>
            <a href="#sizing" class="support-card">
                <i class="fas fa-ruler-combined card-icon"></i>
                <h3>Sizing Guide</h3>
                <p>Find your perfect ring size, necklace length, or bracelet fit.</p>
            </a>
            <a href="#care" class="support-card">
                <i class="fas fa-gem card-icon"></i>
                <h3>Product Care</h3>
                <p>Tips for cleaning and maintaining your precious jewelry.</p>
            </a>
        </div>
    </section>

    <section class="faq-section">
        <h2>Frequently Asked Questions</h2>
        
        <div class="faq-item" id="shipping">
            <button class="faq-question">
                <i class="fas fa-shipping-fast"></i> Is international shipping available?
                <span class="toggle-icon"><i class="fas fa-chevron-down"></i></span>
            </button>
            <div class="faq-answer">
                <p>Yes, Aurelia ships worldwide. Shipping rates and delivery times vary by country and are calculated at checkout. Please note that customs duties and taxes may apply upon arrival.</p>
            </div>
        </div>

        <div class="faq-item" id="returns">
            <button class="faq-question">
                <i class="fas fa-undo-alt"></i> What is your return policy?
                <span class="toggle-icon"><i class="fas fa-chevron-down"></i></span>
            </button>
            <div class="faq-answer">
                <p>We offer a 30-day return window for all unworn jewelry in its original packaging. Custom-engraved items are final sale. See our full returns page for details.</p>
            </div>
        </div>

        <div class="faq-item" id="sizing">
            <button class="faq-question">
                <i class="fas fa-ruler-combined"></i> How do I find my ring size?
                <span class="toggle-icon"><i class="fas fa-chevron-down"></i></span>
            </button>
            <div class="faq-answer">
                <p>We recommend using our free downloadable ring sizer, or visiting a local jeweler for an accurate measurement. All sizes are US standard.</p>
            </div>
        </div>

        <div class="faq-item" id="care">
            <button class="faq-question">
                <i class="fas fa-gem"></i> How should I clean my diamond jewelry?
                <span class="toggle-icon"><i class="fas fa-chevron-down"></i></span>
            </button>
            <div class="faq-answer">
                <p>Soak your diamond pieces in warm water with mild dish soap for 20-40 minutes. Gently brush with a soft-bristle toothbrush, rinse, and pat dry with a lint-free cloth.</p>
            </div>
        </div>
    </section>

    <section class="contact-section">
        <h2>Still Need Help?</h2>
        <div class="contact-options">
            <div class="contact-card">
                <h3>Live Chat</h3>
                <p>Instant support from 9am to 5pm IST, Monday to Friday.</p>
                <button class="cta-btn secondary-btn"><i class="fas fa-comment"></i> Start Chat</button>
            </div>
            <div class="contact-card">
                <h3>Email Us</h3>
                <p>We typically respond within 24 hours.</p>
                <a href="mailto:support@aureliajewelry.com" class="cta-btn secondary-btn"><i class="fas fa-envelope"></i> Send Email</a>
            </div>
        </div>
    </section>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- Smooth Scroll for Quick Links ---
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // --- FAQ Toggle Logic ---
        document.querySelectorAll('.faq-question').forEach(button => {
            button.addEventListener('click', () => {
                const item = button.closest('.faq-item');
                const answer = item.querySelector('.faq-answer');
                const icon = item.querySelector('.toggle-icon i');

                const isExpanded = item.classList.contains('active');

                // Close all other open FAQs
                document.querySelectorAll('.faq-item.active').forEach(activeItem => {
                    if (activeItem !== item) {
                        activeItem.classList.remove('active');
                        activeItem.querySelector('.faq-answer').style.maxHeight = 0;
                        activeItem.querySelector('.toggle-icon i').classList.replace('fa-chevron-up', 'fa-chevron-down');
                    }
                });

                // Toggle the clicked FAQ
                if (isExpanded) {
                    item.classList.remove('active');
                    answer.style.maxHeight = 0;
                    icon.classList.replace('fa-chevron-up', 'fa-chevron-down');
                } else {
                    item.classList.add('active');
                    // Set max-height to scroll height to allow CSS transition
                    answer.style.maxHeight = answer.scrollHeight + "px"; 
                    icon.classList.replace('fa-chevron-down', 'fa-chevron-up');
                }
            });
        });

        // --- Scroll Animation ---
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe support cards
        document.querySelectorAll('.support-card').forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = `all 0.6s ease ${index * 0.1}s`;
            observer.observe(card);
        });

        // Observe FAQ items
        document.querySelectorAll('.faq-item').forEach((item, index) => {
            item.style.opacity = '0';
            item.style.transform = 'translateY(20px)';
            item.style.transition = `all 0.6s ease ${index * 0.1}s`;
            observer.observe(item);
        });
    });
</script>